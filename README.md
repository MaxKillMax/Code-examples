# Code-examples

Проект содержит вырванные куски кода из проекта [Wave Of Elms,https://dtf.ru/indie/1692800-prodolzhayu-rabotat-nad-wave-of-elms-dobavlen-novyy-interfeys-v-vide-knigi-a-takzhe-drugie-uluchsheniya], который делается для стим
Показываю именно обрывки этого проекта, поскольку тут находится самый современный мой код

Репозиторий состоит из:
- Структура файлов. Как я веду структуру файлов (1png). Скрипты и папки расскиданы не просто так. Они в прямом смысле позволяют видеть архитектуру проекта (2png)
- Организация компонентов. Поскольку это стратегия, тут есть у юнитов/построек свои компоненты (атака, передвижение и т.д.). Компоненты организованы без зависимости от самого объекта, поэтому префаб LiveObject-а (это юнит и/или постройка) универсален для всех. Пример показан на скрине (1png). На скрине показано, что нижний уровень не знает о верхних уровнях. В итоге, LiveObject не знает о зависимостях верхнего уровня (он не знает, как его создали). LiveComponent не знает о LiveObject. И так далее. Все знают только то, что им дозволено. В скриптах в папке показан SpriteAnimator, который может запускать анимации при необходимости
- Стейт машина. Сделана с помощью интерфейса IPrioritable, который говорит, когда пришла очередь компонента, и когда она ушла. Например, если компонент агрессии (смотрит противников в радиусе) увидит врага, он повысит свой приоритет и будет ждать, пока до него дойдёт очередь. Скрипты приложение в соответствующем файле
- Оптимизация. Поскольку компоненты написаны на нативном коде, да и Update довольно дорогой, у меня сделаны 3 альтернативы, которые позволяют обновляться. Для компонентов, это интерфейс IUpdatable. Для кого угодно также есть 2 способа: с помощью апдейтов от Unity и с помощью тасков от System.Threading. Приложен AsyncTimer для примера

Могу добавить код, отображающий любые нужные навыки